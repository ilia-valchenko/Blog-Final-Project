@model MvcPL.Models.Post.DetailsPostViewModel

@{
    ViewBag.Title = "Details";
}

@Scripts.Render("~/scripts/jquery-1.10.2.js")
@Scripts.Render("~/scripts/jquery.unobtrusive-ajax.js")
@Scripts.Render("~/scripts/Custom/like.js")

<div class="create-post-form">
    <div class="form-group">

        <article>
            <h3>Title: @Model.Title</h3>
            <p><bold>Description: </bold>@Model.Description</p>
            <p><small>Posted by: @Model.Author.Nickname (Id: @Model.Author.Id)</small></p>
            <p><small>Number of likes: <span id=@string.Format($"like{Model.Id}")>@Model.NumberOfLikes</span></small></p>
            <p>COMMENTS HERE</p>
            <p><small>Date: </small>@Model.PublishDate</p>

            <div>
                Tags:
                <ul>
                    @foreach (var tag in Model.Tags)
                    {
                        <li>@Html.RouteLink("#" + @tag.Name, "Hashtag", new { tagname = tag.Name })</li>
                    }
                </ul>
            </div>

            <div>
                <button id=@Model.Id class="like-button">Like</button>
            </div>

            <div>
                <h4>Comments</h4>

                <div id="comments-wrapper">
                    @foreach (var comment in Model.Comments)
                    {
                        <div>
                            <h5><b>Author:</b> @comment.User.Nickname</h5>
                            <small><b>Publish date:</b> @comment.PublishDate</small>
                            <p><b>Text:</b> @comment.Text</p>
                        </div>
                    }
                </div>
            </div>

        </article>

        @Html.ActionLink("Back", "Index", "Post", null)

    </div>
</div>